<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title></title>

    <style>
      @import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css");
      @import url("https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap");

      :root {
        --primary-bg: #ffffff;
        --secondary-bg: #f8f9fa;
        --accent-bg: #e9ecef;
        --primary-text: #2c3e50;
        --secondary-text: #495057;
        --accent-color: #b8860b;
        --gold: #daa520;
        --silver: #c0c0c0;
        --success: #2e7d32;
        --error: #c62828;
        --card-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        --footer-divider: rgba(0, 0, 0, 0.1);
        --border-color: #e0e0e0;
        --transition-normal: 0.3s;
      }

      [data-theme="dark"] {
        --primary-bg: #121212;
        --secondary-bg: #1e1e1e;
        --accent-bg: #282828;
        --primary-text: #ffffff;
        --secondary-text: #e0e0e0;
        --accent-color: #ffd700;
        --gold: #ffb300;
        --silver: #9e9e9e;
        --card-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        --border-color: #333333;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Montserrat", sans-serif;
        background-color: var(--primary-bg);
        color: var(--primary-text);
        line-height: 1.6;
      }

      /* Header Styles Start*/
      .header {
        background: var(--secondary-bg);
        border-bottom: 1px solid var(--border-color);
        padding: 1rem;
        margin-bottom: 2rem;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: var(--card-shadow);
      }

      .header__content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 1rem;
      }

      .header__title {
        font-family: "Playfair Display", serif;
        font-size: clamp(1.5rem, 4vw, 2rem);
        color: var(--accent-color);
      }

      .header__title a {
        text-decoration: none;
        color: inherit;
        display: flex;
        align-items: center;
        gap: 0.8rem;
      }

      .header__title i {
        transition: transform var(--transition-normal);
      }

      .header__title:hover i {
        transform: rotate(15deg);
      }

      /* Navigation Styles */
      .nav {
        display: flex;
        align-items: center;
        gap: 2rem;
      }

      .nav__links {
        display: flex;
        gap: 1.5rem;
        list-style: none;
        margin: 0;
        padding: 0;
      }

      .nav__link {
        text-decoration: none;
        color: var(--primary-text);
        font-weight: 500;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        transition: all var(--transition-normal);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .nav__link i {
        font-size: 0.9em;
        opacity: 0.8;
      }

      .nav__link:hover {
        color: var(--accent-color);
        background-color: rgba(184, 134, 11, 0.1);
        transform: translateY(-2px);
      }

      .theme-toggle {
        background: none;
        border: none;
        color: var(--primary-text);
        cursor: pointer;
        font-size: 1.2rem;
        padding: 0.5rem;
        transition: all var(--transition-normal);
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .theme-toggle:hover {
        color: var(--accent-color);
        background-color: rgba(184, 134, 11, 0.1);
      }

      /* Mobile Menu Button */
      .mobile-menu-btn {
        display: none;
        background: none;
        border: none;
        cursor: pointer;
        width: 30px;
        height: 24px;
        position: relative;
        margin-left: 1rem;
        padding: 0;
      }

      .hamburger-line {
        width: 30px;
        height: 2px;
        background-color: var(--primary-text);
        display: block;
        position: absolute;
        right: 0;
        transition: all 0.3s ease-in-out;
      }

      .hamburger-line:nth-child(1) {
        top: 0;
      }

      .hamburger-line:nth-child(2) {
        top: 50%;
        transform: translateY(-50%);
      }

      .hamburger-line:nth-child(3) {
        bottom: 0;
      }

      /* Hamburger Animation */
      .mobile-menu-btn.active .hamburger-line:nth-child(1) {
        top: 50%;
        transform: translateY(-50%) rotate(45deg);
      }

      .mobile-menu-btn.active .hamburger-line:nth-child(2) {
        opacity: 0;
        width: 0;
      }

      .mobile-menu-btn.active .hamburger-line:nth-child(3) {
        bottom: 50%;
        transform: translateY(50%) rotate(-45deg);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .mobile-menu-btn {
          display: block;
        }

        .nav {
          position: fixed;
          top: 4.5rem;
          left: 0;
          right: 0;
          height: auto;
          background: var(--secondary-bg);
          padding: 2rem 1rem;
          flex-direction: column;
          transform: translateX(-100%);
          transition: transform var(--transition-normal);
          border-bottom: 1px solid var(--border-color);
          box-shadow: var(--card-shadow);
        }

        .nav.active {
          transform: translateX(0);
        }

        .nav__links {
          flex-direction: column;
          width: 100%;
          align-items: center;
          gap: 1rem;
        }

        .nav__link {
          width: 100%;
          justify-content: center;
          padding: 1rem;
          font-size: 1.1rem;
          text-align: center;
        }

        .nav__link i {
          margin-right: 0.5rem;
        }

        .theme-toggle {
          margin-top: 1.5rem;
          width: 100%;
          max-width: 200px;
          border-radius: 4px;
          height: 45px;
        }
      }
      /* Header Styles end*/
      /* Scroll start*/
      /* Scroll to Top Button Styles */
      .scroll-top {
        position: fixed;
        bottom: 80px; /* Increased bottom spacing to appear above footer */
        right: 2rem;
        width: 45px;
        height: 45px;
        background-color: var(--accent-color);
        color: var(--primary-bg);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        opacity: 0;
        transition: all var(--transition-normal);
        z-index: 9999; /* Increased z-index to ensure visibility */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      /* Add margin to main container to prevent button overlap with content */
      .calculator-container {
        margin-bottom: 100px; /* Adds space at bottom of content */
      }

      /* Updated visibility check in JavaScript */
      .scroll-top.visible {
        opacity: 1;
        animation: fadeInButton 0.3s ease-in-out;
        display: flex !important; /* Forces display when visible */
      }

      /* Button Animation */
      @keyframes fadeInButton {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .scroll-top:hover {
        transform: translateY(-3px);
        background-color: var(--gold);
        box-shadow: 0 4px 15px rgba(184, 134, 11, 0.3);
      }

      /* Media Query for Mobile Devices */
      @media (max-width: 768px) {
        .scroll-top {
          bottom: 90px; /* Increased for mobile to account for larger footer */
          right: 1.5rem;
          width: 40px;
          height: 40px;
          font-size: 1rem;
        }
      }

      /* Adjust for footer presence */
      @media screen and (max-height: 700px) {
        .scroll-top {
          bottom: 100px; /* Even more space for shorter screens */
        }
      }
      /* Scroll end*/

      /* footer start*/
      .footer {
        background: var(--secondary-bg);
        padding: 4rem 0 1.5rem;
        position: relative;
        border-top: 1px solid var(--border-color);
      }

      .footer__container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
      }

      .footer__grid {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr;
        gap: 3rem;
        margin-bottom: 3rem;
      }

      .footer__info {
        max-width: 350px;
      }

      .footer__logo {
        display: flex;
        align-items: center;
        gap: 0.8rem;
        margin-bottom: 1.5rem;
      }

      .footer__logo-icon {
        font-size: 2rem;
        color: var(--accent-color);
      }

      .footer__logo-text {
        font-family: "Playfair Display", serif;
        font-size: 1.5rem;
        color: var(--accent-color);
        font-weight: 600;
      }

      .footer__description {
        color: var(--primary-text);
        line-height: 1.6;
        margin-bottom: 1.5rem;
      }

      .footer__section {
        display: flex;
        flex-direction: column;
      }

      .footer__heading {
        color: var(--accent-color);
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        position: relative;
      }

      .footer__heading::after {
        content: "";
        position: absolute;
        left: 0;
        bottom: -0.5rem;
        width: 30px;
        height: 2px;
        background: var(--accent-color);
      }

      .footer__links {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .footer__link-item {
        margin-bottom: 1rem;
      }

      .footer__link {
        color: var(--secondary-text);
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.3s ease;
        position: relative;
      }

      .footer__link i {
        font-size: 0.9rem;
        transition: transform 0.3s ease;
      }

      .footer__link:hover {
        color: var(--accent-color);
        transform: translateX(5px);
      }

      .footer__link:hover i {
        transform: translateX(3px);
      }

      .footer__social {
        display: flex;
        gap: 1rem;
        margin-top: 1rem;
      }

      .footer__social-link {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 35px;
        height: 35px;
        border-radius: 50%;
        background: var(--footer-divider);
        color: var(--primary-text);
        transition: all 0.3s ease;
        text-decoration: none;
        color: inherit;
      }

      .footer__social-link:hover {
        background: var(--accent-color);
        color: white;
        transform: translateY(-3px);
      }

      .footer__bottom {
        padding-top: 2rem;
        border-top: 1px solid var(--footer-divider);
        text-align: center;
        padding: 2rem 0;
        margin-top: 4rem;
        text-align: center;
      }

      .footer__copyright {
        color: var(--primary-text);
        font-size: 0.9rem;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .footer__copyright a {
        text-decoration: none;
        color: inherit;
      }

      .footer__heart {
        display: inline-block;
        animation: heartbeat 1.5s ease infinite;
      }

      @keyframes heartbeat {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Responsive Design */
      @media screen and (max-width: 1024px) {
        .footer__grid {
          grid-template-columns: 1fr 1fr;
          gap: 2rem;
        }

        .footer__info {
          grid-column: 1 / -1;
          max-width: none;
          text-align: center;
        }

        .footer__logo {
          justify-content: center;
        }

        .footer__heading::after {
          left: 50%;
          transform: translateX(-50%);
        }
      }

      @media screen and (max-width: 768px) {
        .footer {
          padding: 3rem 0 1rem;
        }

        .footer__grid {
          grid-template-columns: 1fr;
          gap: 2.5rem;
        }

        .footer__section {
          text-align: center;
        }

        .footer__social {
          justify-content: center;
        }

        .footer__link:hover {
          transform: translateY(-3px);
        }
      }

      @media screen and (max-width: 480px) {
        .footer__container {
          padding: 0 1rem;
        }

        .footer__logo-text {
          font-size: 1.3rem;
        }

        .footer__description {
          font-size: 0.9rem;
        }
      }

      /*footer end*/

      /* Calculator Container */
      .calculator-container {
        max-width: 900px;
        margin: 2rem auto;
        padding: 0 1.5rem;
      }

      /* Calculator Header */
      .calculator-header {
        text-align: center;
        margin-bottom: 2rem;
        animation: fadeInDown 0.5s ease;
      }

      .calculator-header h1 {
        font-size: 2.5rem;
        color: var(--accent-color);
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .calculator-header p {
        color: var(--secondary-text);
      }

      /* Calculator Mode Selection */
      .calculator-mode {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .mode-btn {
        padding: 1rem 1.5rem;
        border: 2px solid var(--accent-color);
        border-radius: 8px;
        background: transparent;
        color: var(--accent-color);
        cursor: pointer;
        transition: var(--transition-normal);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .mode-btn.active {
        background: var(--accent-color);
        color: var(--primary-bg);
      }

      .mode-btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--card-shadow);
      }

      /* Calculator Form */
      .calculator-form {
        background: var(--secondary-bg);
        padding: 2rem;
        border-radius: 12px;
        box-shadow: var(--card-shadow);
        margin-bottom: 2rem;
      }

      .input-wrapper {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
        margin-bottom: 1.5rem;
      }

      .input-group {
        position: relative;
        display: flex;
        align-items: center;
      }

      .input-group input {
        width: 100%;
        padding: 1rem;
        padding-left: 2.5rem;
        border: 2px solid var(--border-color);
        border-radius: 8px;
        font-size: 1rem;
        transition: var(--transition-normal);
      }

      .input-group input:focus {
        outline: none;
        border-color: var(--accent-color);
        box-shadow: 0 0 0 3px rgba(184, 134, 11, 0.1);
      }

      .currency,
      .percentage {
        position: absolute;
        left: 1rem;
        color: var(--secondary-text);
        font-weight: 500;
      }

      .percentage {
        left: auto;
        right: 1rem;
      }

      /* Calculate Button */
      .calculate-btn {
        width: 100%;
        padding: 1rem;
        background: var(--accent-color);
        color: var(--primary-bg);
        border: none;
        border-radius: 8px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: var(--transition-normal);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .calculate-btn:hover {
        background: var(--gold);
        transform: translateY(-2px);
        box-shadow: var(--card-shadow);
      }

      /* Results Section */
      .discount-result {
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 2px solid var(--border-color);
      }

      .result-cards {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
        margin-bottom: 2rem;
      }

      .result-card {
        background: var(--accent-bg);
        padding: 1.5rem;
        border-radius: 8px;
        text-align: center;
        transition: var(--transition-normal);
      }

      .result-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--card-shadow);
      }

      .card-header {
        color: var(--secondary-text);
        margin-bottom: 0.5rem;
      }

      .card-value {
        font-size: 2rem;
        font-weight: bold;
        color: var(--accent-color);
      }

      /* Savings Visualization */
      .savings-visualization {
        text-align: center;
        margin-top: 2rem;
      }

      .progress-circle {
        position: relative;
        width: 120px;
        height: 120px;
        margin: 0 auto;
      }

      .progress-circle svg {
        transform: rotate(-90deg);
      }

      .progress-circle circle {
        fill: none;
        stroke-width: 8;
        stroke-linecap: round;
      }

      .progress-circle .bg {
        stroke: var(--border-color);
      }

      .progress-circle .progress {
        stroke: var(--accent-color);
        stroke-dasharray: 339.292;
        stroke-dashoffset: 339.292;
        transition: stroke-dashoffset 1s ease;
      }

      .percent {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 1.5rem;
        font-weight: bold;
        color: var(--accent-color);
      }

      /* Multiple Discounts Section */
      .discounts-list {
        margin-bottom: 1.5rem;
      }

      .discount-header {
        display: grid;
        grid-template-columns: 1fr 1fr auto;
        gap: 1rem;
        margin-bottom: 0.5rem;
        color: var(--secondary-text);
      }

      .discount-entry {
        display: grid;
        grid-template-columns: 1fr 1fr auto;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .remove-discount {
        background: var(--error);
        color: white;
        border: none;
        border-radius: 4px;
        width: 36px;
        height: 36px;
        cursor: pointer;
        transition: var(--transition-normal);
      }

      .remove-discount:hover {
        transform: scale(1.1);
      }

      /* Bulk Calculator */
      .items-list {
        margin-bottom: 1.5rem;
      }

      .item-header {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr auto;
        gap: 1rem;
        margin-bottom: 0.5rem;
        color: var(--secondary-text);
      }

      .item-entry {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr auto;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      /* Additional Features */
      .additional-features {
        margin-top: 3rem;
      }

      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
      }

      .feature-card {
        background: var(--secondary-bg);
        padding: 1.5rem;
        border-radius: 8px;
        text-align: center;
        transition: var(--transition-normal);
      }

      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--card-shadow);
      }

      .feature-card i {
        font-size: 2rem;
        color: var(--accent-color);
        margin-bottom: 1rem;
      }

      /* Share Buttons */
      .share-buttons {
        display: flex;
        justify-content: center;
        gap: 0.5rem;
        margin-top: 1rem;
      }

      .share-btn {
        width: 40px;
        height: 40px;
        border: none;
        border-radius: 50%;
        background: var(--accent-bg);
        color: var(--accent-color);
        cursor: pointer;
        transition: var(--transition-normal);
      }

      .share-btn:hover {
        background: var(--accent-color);
        color: var(--primary-bg);
      }

      /* FAQ Section */
      .calculator-faqs {
        margin-top: 3rem;
      }

      .faq-item {
        border: 1px solid var(--border-color);
        border-radius: 8px;
        margin-bottom: 1rem;
      }

      .faq-question {
        padding: 1rem;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 500;
      }

      .faq-answer {
        padding: 0 1rem 1rem;
        color: var(--secondary-text);
        display: none;
      }

      .faq-item.active .faq-answer {
        display: block;
      }

      /* Animations */
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .calculator-header h1 {
          font-size: 2rem;
        }

        .calculator-mode {
          flex-direction: column;
        }

        .input-wrapper {
          grid-template-columns: 1fr;
        }

        .result-cards {
          grid-template-columns: 1fr;
        }

        .discount-entry {
          grid-template-columns: 1fr 1fr;
        }

        .item-entry {
          grid-template-columns: 1fr;
          gap: 0.5rem;
        }
      }

      @media (max-width: 480px) {
        .calculator-container {
          padding: 0 1rem;
        }

        .calculator-form {
          padding: 1.5rem;
        }

        .card-value {
          font-size: 1.5rem;
        }
      }

      /* Print Styles */
      @media print {
        .calculator-mode,
        .additional-features,
        .calculator-faqs {
          display: none;
        }

        .calculator-container {
          margin: 0;
          padding: 0;
        }

        .calculator-form {
          box-shadow: none;
        }
      }

      /* Add Discount/Item Buttons */
      .add-discount-btn,
      .add-item-btn {
        width: 100%;
        padding: 1rem;
        background: var(--accent-bg);
        color: var(--accent-color);
        border: none;
        border-radius: 8px;
        cursor: pointer;
        margin: 1rem 0;
        transition: var(--transition-normal);
        font-weight: 500;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .add-discount-btn:hover,
      .add-item-btn:hover {
        background: var(--accent-color);
        color: var(--primary-bg);
        transform: translateY(-2px);
        box-shadow: var(--card-shadow);
      }

      /* Total Discount Display */
      .total-discount {
        background: var(--accent-bg);
        padding: 1rem;
        border-radius: 8px;
        text-align: center;
        color: var(--accent-color);
        font-weight: 500;
        margin: 1rem 0;
      }

      /* Discount Breakdown */
      .discount-breakdown {
        margin-top: 2rem;
        padding: 1.5rem;
        background: var(--accent-bg);
        border-radius: 8px;
      }

      .discount-breakdown h3 {
        color: var(--accent-color);
        margin-bottom: 1rem;
        text-align: center;
      }

      .breakdown-list {
        display: flex;
        flex-direction: column;
        gap: 0.8rem;
      }

      /* Quick Discount Reference */
      .discount-reference {
        margin-top: 3rem;
        padding: 2rem;
        background: var(--secondary-bg);
        border-radius: 12px;
        box-shadow: var(--card-shadow);
      }

      .discount-reference h3 {
        text-align: center;
        color: var(--accent-color);
        margin-bottom: 1.5rem;
      }

      .reference-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
      }

      .reference-item {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 1rem;
        background: var(--accent-bg);
        border-radius: 8px;
        transition: var(--transition-normal);
      }

      .reference-item:hover {
        transform: translateY(-2px);
        box-shadow: var(--card-shadow);
      }

      .discount-percent {
        color: var(--accent-color);
        font-weight: bold;
      }

      .multiply,
      .equals {
        color: var(--secondary-text);
      }

      .savings {
        color: var(--success);
        font-weight: 500;
      }

      /* Totals Summary */
      .totals-summary {
        margin: 1.5rem 0;
        padding: 1.5rem;
        background: var(--accent-bg);
        border-radius: 8px;
      }

      .summary-item {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 0;
        border-bottom: 1px solid var(--border-color);
      }

      .summary-item:last-child {
        border-bottom: none;
      }

      /* Comparison Table */
      .discount-comparison {
        margin-top: 3rem;
      }

      .discount-comparison h3 {
        text-align: center;
        color: var(--accent-color);
        margin-bottom: 1.5rem;
      }

      .comparison-table {
        width: 100%;
        overflow-x: auto;
      }

      .comparison-row {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        padding: 1rem;
        text-align: center;
      }

      .comparison-row.header {
        background: var(--accent-bg);
        font-weight: 500;
        color: var(--accent-color);
        border-radius: 8px 8px 0 0;
      }

      .comparison-row:not(.header) {
        border-bottom: 1px solid var(--border-color);
      }

      /* Export Buttons */
      .export-buttons {
        display: flex;
        gap: 0.5rem;
        margin-top: 1rem;
      }

      .export-btn {
        flex: 1;
        padding: 0.8rem;
        border: none;
        border-radius: 8px;
        background: var(--accent-bg);
        color: var(--accent-color);
        cursor: pointer;
        transition: var(--transition-normal);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .export-btn:hover {
        background: var(--accent-color);
        color: var(--primary-bg);
      }

      /* Explore Tools */
      .explore-tools {
        margin-top: 3rem;
        text-align: center;
      }

      .tools-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-top: 1.5rem;
      }

      .tool-card {
        background: var(--secondary-bg);
        padding: 2rem;
        border-radius: 12px;
        text-decoration: none;
        color: var(--primary-text);
        transition: var(--transition-normal);
      }

      .tool-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--card-shadow);
      }

      .tool-card i {
        font-size: 2rem;
        color: var(--accent-color);
        margin-bottom: 1rem;
      }

      /* Utility Classes */
      .hidden {
        display: none !important;
      }

      /* Additional Responsive Styles */
      @media (max-width: 768px) {
        .reference-grid {
          grid-template-columns: 1fr 1fr;
        }

        .comparison-row {
          font-size: 0.9rem;
        }

        .export-buttons {
          flex-direction: column;
        }
      }

      @media (max-width: 480px) {
        .reference-grid {
          grid-template-columns: 1fr;
        }

        .comparison-table {
          font-size: 0.8rem;
        }

        .reference-item {
          flex-wrap: wrap;
          justify-content: center;
        }
      }

      /* History Button and Container */
      .toggle-history {
        padding: 0.8rem 1.5rem;
        background: var(--accent-bg);
        color: var(--accent-color);
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition-normal);
        font-weight: 500;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        width: 100%;
        margin-top: 1rem;
      }

      .toggle-history:hover {
        background: var(--accent-color);
        color: var(--primary-bg);
        transform: translateY(-2px);
        box-shadow: var(--card-shadow);
      }

      /* History Panel */
      .history-panel {
        display: none;
        margin-top: 1rem;
        padding: 1.5rem;
        background: var(--accent-bg);
        border-radius: 8px;
        max-height: 300px;
        overflow-y: auto;
      }

      .history-panel.show {
        display: block;
        animation: fadeIn 0.3s ease;
      }

      .history-item {
        padding: 1rem;
        background: var(--primary-bg);
        border-radius: 6px;
        margin-bottom: 0.8rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .history-item:last-child {
        margin-bottom: 0;
      }

      .history-details {
        flex: 1;
      }

      .history-date {
        font-size: 0.8rem;
        color: var(--secondary-text);
        margin-bottom: 0.3rem;
      }

      .history-calculation {
        color: var(--primary-text);
        font-weight: 500;
      }

      .history-result {
        color: var(--accent-color);
        font-weight: bold;
        margin-left: 1rem;
      }

      /* Clear History Button */
      .clear-history {
        padding: 0.5rem 1rem;
        background: var(--error);
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: var(--transition-normal);
        font-size: 0.9rem;
        margin-top: 1rem;
      }

      .clear-history:hover {
        opacity: 0.9;
        transform: translateY(-1px);
      }

      /* Scrollbar for History Panel */
      .history-panel::-webkit-scrollbar {
        width: 8px;
      }

      .history-panel::-webkit-scrollbar-track {
        background: var(--primary-bg);
        border-radius: 4px;
      }

      .history-panel::-webkit-scrollbar-thumb {
        background: var(--accent-color);
        border-radius: 4px;
      }

      .history-panel::-webkit-scrollbar-thumb:hover {
        background: var(--gold);
      }

      /* Empty History State */
      .empty-history {
        text-align: center;
        color: var(--secondary-text);
        padding: 2rem;
      }

      .empty-history i {
        font-size: 2rem;
        color: var(--accent-color);
        margin-bottom: 1rem;
      }

      /* Additional Animation */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Responsive Adjustments */
      @media (max-width: 480px) {
        .history-item {
          flex-direction: column;
          align-items: flex-start;
        }

        .history-result {
          margin-left: 0;
          margin-top: 0.5rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header__content">
        <h1 class="header__title">
          <a href="/">
            <i class="fas fa-calendar-alt"></i>
            Academic Schedule
          </a>
        </h1>

        <button
          class="mobile-menu-btn"
          id="mobileMenuBtn"
          aria-label="Toggle Menu"
        >
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>

        <nav class="nav" id="nav">
          <ul class="nav__links">
            <li>
              <a href="/" class="nav__link"><i class="fas fa-home"></i>Home</a>
            </li>
            <li>
              <a href="/notes" class="nav__link"
                ><i class="fas fa-book"></i>Notes</a
              >
            </li>
            <li>
              <a href="/faculty" class="nav__link"
                ><i class="fas fa-chalkboard-teacher"></i>Faculty</a
              >
            </li>
            <li>
              <a href="/notices" class="nav__link"
                ><i class="fas fa-bell"></i>Notices</a
              >
            </li>
            <li>
              <a href="/contact" class="nav__link"
                ><i class="fas fa-envelope"></i>Contact</a
              >
            </li>
          </ul>

          <button class="theme-toggle" id="themeToggle">
            <i class="fas fa-moon"></i>
          </button>
        </nav>
      </div>
    </header>
    <!-- Header End-->
    <main class="calculator-container">
      <!-- Calculator Header -->
      <div class="calculator-header">
        <h1><i class="fas fa-percent"></i> Discount Calculator</h1>
        <p>Calculate discounts and savings on your purchases</p>
      </div>

      <!-- Calculator Mode Selection -->
      <div class="calculator-mode">
        <button class="mode-btn active" data-mode="simple">
          <i class="fas fa-calculator"></i> Simple Discount
        </button>
        <button class="mode-btn" data-mode="multiple">
          <i class="fas fa-tags"></i> Multiple Discounts
        </button>
        <button class="mode-btn" data-mode="bulk">
          <i class="fas fa-boxes"></i> Bulk Calculator
        </button>
      </div>

      <!-- Simple Discount Calculator -->
      <div class="calculator-form" id="simpleCalculator">
        <div class="input-wrapper">
          <div class="price-input">
            <label for="originalPrice">Original Price</label>
            <div class="input-group">
              <span class="currency">₹</span>
              <input
                type="number"
                id="originalPrice"
                placeholder="Enter original price"
                min="0"
                step="0.01"
              />
            </div>
          </div>

          <div class="discount-input">
            <label for="discountPercent">Discount Percentage</label>
            <div class="input-group">
              <input
                type="number"
                id="discountPercent"
                placeholder="Enter discount"
                min="0"
                max="100"
              />
              <span class="percentage">%</span>
            </div>
          </div>
        </div>

        <button class="calculate-btn" onclick="calculateDiscount()">
          <i class="fas fa-calculator"></i> Calculate Discount
        </button>

        <div class="discount-result">
          <div class="result-cards">
            <div class="result-card savings">
              <div class="card-header">You Save</div>
              <div class="card-value">₹<span>0.00</span></div>
            </div>
            <div class="result-card final">
              <div class="card-header">Final Price</div>
              <div class="card-value">₹<span>0.00</span></div>
            </div>
          </div>

          <div class="savings-visualization">
            <div class="progress-circle">
              <svg viewBox="0 0 120 120">
                <circle class="bg" cx="60" cy="60" r="54"></circle>
                <circle class="progress" cx="60" cy="60" r="54"></circle>
              </svg>
              <div class="percent"><span>0</span>%</div>
            </div>
            <div class="discount-label">Total Discount</div>
          </div>
        </div>
      </div>

      <!-- Multiple Discounts Calculator -->
      <div class="calculator-form hidden" id="multipleCalculator">
        <div class="price-input">
          <label for="multiPrice">Original Price</label>
          <div class="input-group">
            <span class="currency">₹</span>
            <input
              type="number"
              id="multiPrice"
              placeholder="Enter original price"
              min="0"
              step="0.01"
            />
          </div>
        </div>

        <div class="discounts-list">
          <div class="discount-header">
            <span>Discount Type</span>
            <span>Percentage (%)</span>
            <span></span>
          </div>
          <div class="discount-entry">
            <input
              type="text"
              class="discount-name"
              placeholder="Discount Label"
            />
            <div class="input-group">
              <input
                type="number"
                class="discount-value"
                placeholder="%"
                min="0"
                max="100"
              />
              <span class="percentage">%</span>
            </div>
            <button class="remove-discount">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>

        <button class="add-discount-btn">
          <i class="fas fa-plus"></i> Add Another Discount
        </button>

        <div class="total-discount">Total Discount: <span>0</span>%</div>

        <button class="calculate-btn" onclick="calculateMultipleDiscounts()">
          <i class="fas fa-calculator"></i> Calculate Total Discount
        </button>

        <div class="discount-result hidden">
          <div class="discount-breakdown">
            <h3>Discount Breakdown</h3>
            <div class="breakdown-list">
              <!-- Dynamically populated -->
            </div>
          </div>
        </div>
      </div>

      <!-- Bulk Discount Calculator -->
      <div class="calculator-form hidden" id="bulkCalculator">
        <div class="items-list">
          <div class="item-header">
            <span>Item Description</span>
            <span>Price (₹)</span>
            <span>Discount (%)</span>
            <span></span>
          </div>
          <div class="item-entry">
            <input type="text" class="item-name" placeholder="Item Name" />
            <div class="input-group">
              <span class="currency">₹</span>
              <input
                type="number"
                class="item-price"
                placeholder="Price"
                min="0"
                step="0.01"
              />
            </div>
            <div class="input-group">
              <input
                type="number"
                class="item-discount"
                placeholder="%"
                min="0"
                max="100"
              />
              <span class="percentage">%</span>
            </div>
            <button class="remove-item">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>

        <button class="add-item-btn">
          <i class="fas fa-plus"></i> Add Item
        </button>

        <div class="totals-summary">
          <div class="summary-item">
            <span>Total Items:</span>
            <span class="total-items">0</span>
          </div>
          <div class="summary-item">
            <span>Original Total:</span>
            <span class="original-total">₹0.00</span>
          </div>
          <div class="summary-item">
            <span>Total Savings:</span>
            <span class="total-savings">₹0.00</span>
          </div>
        </div>

        <button class="calculate-btn" onclick="calculateBulkDiscount()">
          <i class="fas fa-calculator"></i> Calculate All Discounts
        </button>
      </div>

      <!-- Quick Discount Reference -->
      <div class="discount-reference">
        <h3>Common Discount Reference</h3>
        <div class="reference-grid">
          <div class="reference-item">
            <span class="discount-percent">10%</span>
            <span class="multiply">×</span>
            <span class="price">₹100</span>
            <span class="equals">=</span>
            <span class="savings">₹10 off</span>
          </div>
          <div class="reference-item">
            <span class="discount-percent">25%</span>
            <span class="multiply">×</span>
            <span class="price">₹100</span>
            <span class="equals">=</span>
            <span class="savings">₹25 off</span>
          </div>
          <div class="reference-item">
            <span class="discount-percent">50%</span>
            <span class="multiply">×</span>
            <span class="price">₹100</span>
            <span class="equals">=</span>
            <span class="savings">₹50 off</span>
          </div>
          <div class="reference-item">
            <span class="discount-percent">75%</span>
            <span class="multiply">×</span>
            <span class="price">₹100</span>
            <span class="equals">=</span>
            <span class="savings">₹75 off</span>
          </div>
        </div>
      </div>

      <!-- Additional Features -->
      <div class="additional-features">
        <div class="features-grid">
          <div class="feature-card">
            <i class="fas fa-history"></i>
            <h3>Price History</h3>
            <button class="toggle-history">View History</button>
          </div>
          <div class="feature-card">
            <i class="fas fa-share-alt"></i>
            <h3>Share Result</h3>
            <div class="share-buttons">
              <button class="share-btn" data-type="whatsapp">
                <i class="fab fa-whatsapp"></i>
              </button>
              <button class="share-btn" data-type="email">
                <i class="fas fa-envelope"></i>
              </button>
              <button class="share-btn" data-type="copy">
                <i class="fas fa-copy"></i>
              </button>
            </div>
          </div>
          <div class="feature-card">
            <i class="fas fa-print"></i>
            <h3>Print/Save</h3>
            <div class="export-buttons">
              <button class="export-btn" data-type="print">
                <i class="fas fa-print"></i> Print
              </button>
              <button class="export-btn" data-type="pdf">
                <i class="fas fa-file-pdf"></i> Save PDF
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Compare Discounts -->
      <div class="discount-comparison">
        <h3>Compare Discounts</h3>
        <div class="comparison-table">
          <div class="comparison-row header">
            <div>Original Price</div>
            <div>10% Off</div>
            <div>20% Off</div>
            <div>30% Off</div>
            <div>40% Off</div>
            <div>50% Off</div>
          </div>
          <div class="comparison-row">
            <div>₹1000</div>
            <div>₹900</div>
            <div>₹800</div>
            <div>₹700</div>
            <div>₹600</div>
            <div>₹500</div>
          </div>
          <!-- Add more rows as needed -->
        </div>
      </div>

      <!-- Explore Tools Section -->
      <section class="explore-tools">
        <h2>Explore More Calculators</h2>
        <div class="tools-grid">
          <a href="#" class="tool-card">
            <i class="fas fa-user-check"></i>
            <h3>Attendance Calculator</h3>
            <p>Calculate your attendance percentage</p>
          </a>
          <a href="#" class="tool-card">
            <i class="fas fa-graduation-cap"></i>
            <h3>CGPA Calculator</h3>
            <p>Calculate your CGPA</p>
          </a>
          <a href="#" class="tool-card">
            <i class="fas fa-percent"></i>
            <h3>Percentage Calculator</h3>
            <p>Calculate percentages easily</p>
          </a>
        </div>
      </section>

      <!-- FAQ Section -->
      <section class="calculator-faqs">
        <h2>Frequently Asked Questions</h2>
        <div class="faq-list">
          <div class="faq-item">
            <div class="faq-question">
              How is the discount calculated?
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              The discount is calculated by multiplying the original price by
              the discount percentage and then subtracting that amount from the
              original price.
            </div>
          </div>
          <!-- Add more FAQ items as needed -->
        </div>
      </section>
    </main>

    <!-- Footer Start-->
    <footer class="footer">
      <div class="footer__container">
        <div class="footer__grid">
          <div class="footer__info">
            <div class="footer__logo">
              <i class="fas fa-calendar-alt footer__logo-icon"></i>
              <span class="footer__logo-text">Academic Calendar</span>
            </div>
            <p class="footer__description">
              Your comprehensive academic planning solution. Stay organized with
              class schedules, important dates, and educational resources.
            </p>
            <div class="footer__social">
              <a href="#" class="footer__social-link"
                ><i class="fab fa-facebook-f"></i
              ></a>
              <a href="#" class="footer__social-link"
                ><i class="fab fa-twitter"></i
              ></a>
              <a href="#" class="footer__social-link"
                ><i class="fab fa-linkedin-in"></i
              ></a>
              <a href="#" class="footer__social-link"
                ><i class="fab fa-instagram"></i
              ></a>
            </div>
          </div>

          <div class="footer__section">
            <h3 class="footer__heading">Quick Links</h3>
            <ul class="footer__links">
              <li class="footer__link-item">
                <a href="/" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Home</a
                >
              </li>
              <li class="footer__link-item">
                <a href="/notes" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Notes</a
                >
              </li>
              <li class="footer__link-item">
                <a href="/faculty" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Faculty</a
                >
              </li>
              <li class="footer__link-item">
                <a href="/notices" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Notices</a
                >
              </li>
              <li class="footer__link-item">
                <a href="/contact" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Contact</a
                >
              </li>
            </ul>
          </div>

          <div class="footer__section">
            <h3 class="footer__heading">Resources</h3>
            <ul class="footer__links">
              <li class="footer__link-item">
                <a href="/schedule" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Schedule</a
                >
              </li>
              <li class="footer__link-item">
                <a href="/events" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Events</a
                >
              </li>
              <li class="footer__link-item">
                <a href="/library" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Library</a
                >
              </li>
              <li class="footer__link-item">
                <a href="/research" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Research</a
                >
              </li>
            </ul>
          </div>

          <div class="footer__section">
            <h3 class="footer__heading">Support</h3>
            <ul class="footer__links">
              <li class="footer__link-item">
                <a href="/help" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Help Center</a
                >
              </li>
              <li class="footer__link-item">
                <a href="/faq" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>FAQs</a
                >
              </li>
              <li class="footer__link-item">
                <a href="/privacy" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Privacy Policy</a
                >
              </li>
              <li class="footer__link-item">
                <a href="/terms" class="footer__link"
                  ><i class="fas fa-chevron-right"></i>Terms of Use</a
                >
              </li>
            </ul>
          </div>
        </div>

        <div class="footer__bottom">
          <p class="footer__copyright">
            © 2025 <a href="/">Academic Calendar</a>. Made with
            <span class="footer__heart"
              ><i class="fas fa-heart" style="color: var(--accent-color)"></i
            ></span>
            by <a href="https://www.instagram.com/dvmx_19/"><b>Dus Mamud</b></a>
          </p>
        </div>
      </div>
    </footer>
    <!-- Footer End-->
    <!-- Scroll to Top Button -->
    <button id="scrollTop" class="scroll-top">
      <i class="fas fa-arrow-up"></i>
    </button>
    <script>
      //theme togle start
      // Theme Manager
      class ThemeManager {
        constructor() {
          this.themeToggle = document.getElementById("themeToggle");
          this.init();
        }

        init() {
          this.themeToggle.addEventListener("click", () => this.toggleTheme());
          this.setInitialTheme();
        }

        setInitialTheme() {
          const savedTheme = localStorage.getItem("theme") || "light";
          document.documentElement.setAttribute("data-theme", savedTheme);
          this.updateToggleIcon(savedTheme);
        }

        toggleTheme() {
          const currentTheme =
            document.documentElement.getAttribute("data-theme");
          const newTheme = currentTheme === "light" ? "dark" : "light";
          document.documentElement.setAttribute("data-theme", newTheme);
          localStorage.setItem("theme", newTheme);
          this.updateToggleIcon(newTheme);
        }

        updateToggleIcon(theme) {
          const icon = this.themeToggle.querySelector("i");
          icon.className = theme === "light" ? "fas fa-moon" : "fas fa-sun";
        }
      }
      //theme togle end
      //header start
      const mobileMenuBtn = document.getElementById("mobileMenuBtn");
      const nav = document.getElementById("nav");

      mobileMenuBtn.addEventListener("click", () => {
        nav.classList.toggle("active");
        mobileMenuBtn.classList.toggle("active");
      });

      // Close mobile menu when clicking outside
      document.addEventListener("click", (e) => {
        if (!nav.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
          nav.classList.remove("active");
          mobileMenuBtn.classList.remove("active");
        }
      });

      // Close mobile menu when window is resized
      window.addEventListener("resize", () => {
        if (window.innerWidth > 768) {
          nav.classList.remove("active");
          mobileMenuBtn.classList.remove("active");
        }
      });
      //Header navbar end
      // Initialize Application
      document.addEventListener("DOMContentLoaded", () => {
        new ThemeManager();
      });
      //header end
      // Scroll to Top start
      // Scroll to Top start
      document.addEventListener("DOMContentLoaded", function () {
        const scrollTopButton = document.getElementById("scrollTop");
        const footer = document.querySelector("footer");

        function updateButtonPosition() {
          const footerRect = footer.getBoundingClientRect();
          const viewportHeight = window.innerHeight;

          // Check if footer is in viewport
          if (footerRect.top < viewportHeight) {
            const newBottom = viewportHeight - footerRect.top + 20; // 20px additional spacing
            scrollTopButton.style.bottom = `${newBottom}px`;
          } else {
            scrollTopButton.style.bottom = "80px"; // Default position
          }
        }

        window.addEventListener("scroll", function () {
          if (window.scrollY > 300) {
            scrollTopButton.classList.add("visible");
            scrollTopButton.style.display = "flex";
            updateButtonPosition(); // Update position when visible
          } else {
            scrollTopButton.classList.remove("visible");
            setTimeout(() => {
              if (!scrollTopButton.classList.contains("visible")) {
                scrollTopButton.style.display = "none";
              }
            }, 300);
          }
        });

        // Update position on resize
        window.addEventListener("resize", function () {
          if (scrollTopButton.classList.contains("visible")) {
            updateButtonPosition();
          }
        });

        scrollTopButton.addEventListener("click", function () {
          window.scrollTo({
            top: 0,
            behavior: "smooth",
          });
        });
      });

      // Scroll to Top end
      // Scroll to Top end

      // DOM Elements
      const calculatorForms = {
        simple: document.getElementById("simpleCalculator"),
        multiple: document.getElementById("multipleCalculator"),
        bulk: document.getElementById("bulkCalculator"),
      };

      // Initialize Calculator
      document.addEventListener("DOMContentLoaded", () => {
        initializeCalculator();
        loadHistory();
      });

      // Initialize Calculator
      function initializeCalculator() {
        // Mode Selection
        document.querySelectorAll(".mode-btn").forEach((btn) => {
          btn.addEventListener("click", () => switchMode(btn.dataset.mode));
        });

        // Add event listeners for discount calculations
        document.querySelectorAll(".calculate-btn").forEach((btn) => {
          btn.addEventListener("click", handleCalculation);
        });

        // Add event listeners for "Add Discount" and "Add Item" buttons
        const addDiscountBtn = document.querySelector(".add-discount-btn");
        const addItemBtn = document.querySelector(".add-item-btn");

        if (addDiscountBtn)
          addDiscountBtn.addEventListener("click", addDiscountField);
        if (addItemBtn) addItemBtn.addEventListener("click", addItemField);

        // Initialize history toggle
        const historyBtn = document.querySelector(".toggle-history");
        if (historyBtn) historyBtn.addEventListener("click", toggleHistory);

        // Initialize share buttons
        initializeShareButtons();
      }

      // Switch Calculator Mode
      function switchMode(mode) {
        // Update active button
        document.querySelectorAll(".mode-btn").forEach((btn) => {
          btn.classList.remove("active");
          if (btn.dataset.mode === mode) btn.classList.add("active");
        });

        // Show selected calculator form
        Object.values(calculatorForms).forEach((form) =>
          form.classList.add("hidden")
        );
        calculatorForms[mode].classList.remove("hidden");
      }

      // Handle Calculation
      function handleCalculation() {
        const activeMode =
          document.querySelector(".mode-btn.active").dataset.mode;

        switch (activeMode) {
          case "simple":
            calculateSimpleDiscount();
            break;
          case "multiple":
            calculateMultipleDiscounts();
            break;
          case "bulk":
            calculateBulkDiscount();
            break;
        }
      }

      // Calculate Simple Discount
      function calculateSimpleDiscount() {
        const originalPrice = parseFloat(
          document.getElementById("originalPrice").value
        );
        const discountPercent = parseFloat(
          document.getElementById("discountPercent").value
        );

        if (validateInputs(originalPrice, discountPercent)) {
          const savings = (originalPrice * discountPercent) / 100;
          const finalPrice = originalPrice - savings;

          updateResults(originalPrice, finalPrice, savings, discountPercent);
          saveToHistory("simple", originalPrice, finalPrice, discountPercent);
        }
      }

      // Calculate Multiple Discounts
      function calculateMultipleDiscounts() {
        const originalPrice = parseFloat(
          document.getElementById("multiPrice").value
        );
        const discounts = Array.from(
          document.querySelectorAll(".discount-entry .discount-value")
        )
          .map((input) => parseFloat(input.value))
          .filter((value) => !isNaN(value));

        if (validateInputs(originalPrice) && discounts.length > 0) {
          let finalPrice = originalPrice;
          discounts.forEach((discount) => {
            finalPrice -= (finalPrice * discount) / 100;
          });

          const totalDiscount =
            ((originalPrice - finalPrice) / originalPrice) * 100;
          const savings = originalPrice - finalPrice;

          updateResults(originalPrice, finalPrice, savings, totalDiscount);
          saveToHistory("multiple", originalPrice, finalPrice, totalDiscount);
        }
      }

      // Calculate Bulk Discount
      function calculateBulkDiscount() {
        const items = document.querySelectorAll(".item-entry");
        let totalOriginal = 0;
        let totalFinal = 0;

        items.forEach((item) => {
          const price = parseFloat(item.querySelector(".item-price").value);
          const discount = parseFloat(
            item.querySelector(".item-discount").value
          );

          if (!isNaN(price) && !isNaN(discount)) {
            totalOriginal += price;
            totalFinal += price - (price * discount) / 100;
          }
        });

        if (totalOriginal > 0) {
          const totalSavings = totalOriginal - totalFinal;
          const averageDiscount = (totalSavings / totalOriginal) * 100;

          updateResults(
            totalOriginal,
            totalFinal,
            totalSavings,
            averageDiscount
          );
          saveToHistory("bulk", totalOriginal, totalFinal, averageDiscount);
        }
      }

      // Validate Inputs
      function validateInputs(price, discount = null) {
        if (isNaN(price) || price <= 0) {
          showError("Please enter a valid price");
          return false;
        }

        if (
          discount !== null &&
          (isNaN(discount) || discount < 0 || discount > 100)
        ) {
          showError("Please enter a valid discount percentage (0-100)");
          return false;
        }

        return true;
      }

      // Update Results
      function updateResults(
        originalPrice,
        finalPrice,
        savings,
        discountPercent
      ) {
        // Update savings card
        document.querySelector(
          ".savings .card-value"
        ).textContent = `₹${savings.toFixed(2)}`;

        // Update final price card
        document.querySelector(
          ".final .card-value"
        ).textContent = `₹${finalPrice.toFixed(2)}`;

        // Update progress circle
        updateProgressCircle(discountPercent);

        // Show results
        document.querySelector(".discount-result").classList.add("show");
      }

      // Update Progress Circle
      function updateProgressCircle(percent) {
        const circle = document.querySelector(".progress-circle .progress");
        const circumference = 339.292; // 2 * π * r (54)
        const offset = circumference - (percent / 100) * circumference;
        circle.style.strokeDashoffset = offset;

        document.querySelector(".percent span").textContent =
          percent.toFixed(1);
      }

      // Add Discount Field
      function addDiscountField() {
        const discountsList = document.querySelector(".discounts-list");
        const newDiscount = document.createElement("div");
        newDiscount.className = "discount-entry";
        newDiscount.innerHTML = `
        <input type="text" class="discount-name" placeholder="Discount Label">
        <div class="input-group">
            <input type="number" class="discount-value" placeholder="%" min="0" max="100">
            <span class="percentage">%</span>
        </div>
        <button class="remove-discount" onclick="removeDiscount(this)">
            <i class="fas fa-times"></i>
        </button>
    `;
        discountsList.appendChild(newDiscount);
      }

      // Add Item Field
      function addItemField() {
        const itemsList = document.querySelector(".items-list");
        const newItem = document.createElement("div");
        newItem.className = "item-entry";
        newItem.innerHTML = `
        <input type="text" class="item-name" placeholder="Item Name">
        <div class="input-group">
            <span class="currency">₹</span>
            <input type="number" class="item-price" placeholder="Price" min="0" step="0.01">
        </div>
        <div class="input-group">
            <input type="number" class="item-discount" placeholder="%" min="0" max="100">
            <span class="percentage">%</span>
        </div>
        <button class="remove-item" onclick="removeItem(this)">
            <i class="fas fa-times"></i>
        </button>
    `;
        itemsList.appendChild(newItem);
      }

      // Remove Discount
      function removeDiscount(button) {
        button.closest(".discount-entry").remove();
      }

      // Remove Item
      function removeItem(button) {
        button.closest(".item-entry").remove();
      }

      // Show Error
      function showError(message) {
        const errorDiv = document.createElement("div");
        errorDiv.className = "error-message";
        errorDiv.textContent = message;

        const calculator = document.querySelector(
          ".calculator-form:not(.hidden)"
        );
        calculator.insertBefore(errorDiv, calculator.firstChild);

        setTimeout(() => errorDiv.remove(), 3000);
      }

      // Save To History
      function saveToHistory(type, original, final, discount) {
        const history = JSON.parse(
          localStorage.getItem("discountHistory") || "[]"
        );
        history.unshift({
          type,
          original,
          final,
          discount,
          date: new Date().toISOString(),
        });

        // Keep only last 10 calculations
        if (history.length > 10) history.pop();

        localStorage.setItem("discountHistory", JSON.stringify(history));
        loadHistory();
      }

      // Load History
      function loadHistory() {
        const history = JSON.parse(
          localStorage.getItem("discountHistory") || "[]"
        );
        const historyPanel = document.querySelector(".history-panel");

        if (!historyPanel) return;

        if (history.length === 0) {
          historyPanel.innerHTML = `
            <div class="empty-history">
                <i class="fas fa-history"></i>
                <p>No calculation history yet</p>
            </div>
        `;
          return;
        }

        historyPanel.innerHTML = history
          .map(
            (item) => `
        <div class="history-item">
            <div class="history-details">
                <div class="history-date">${new Date(
                  item.date
                ).toLocaleString()}</div>
                <div class="history-calculation">
                    ₹${item.original.toFixed(2)} - ${item.discount.toFixed(1)}%
                </div>
            </div>
            <div class="history-result">₹${item.final.toFixed(2)}</div>
        </div>
    `
          )
          .join("");
      }

      // Toggle History
      function toggleHistory() {
        const historyPanel = document.querySelector(".history-panel");
        const isVisible = historyPanel.classList.contains("show");

        historyPanel.classList.toggle("show");
        const button = document.querySelector(".toggle-history");
        button.innerHTML = isVisible
          ? '<i class="fas fa-history"></i> View History'
          : '<i class="fas fa-times"></i> Hide History';
      }

      // Initialize Share Buttons
      function initializeShareButtons() {
        document.querySelectorAll(".share-btn").forEach((btn) => {
          btn.addEventListener("click", () => {
            const type = btn.dataset.type;
            shareResult(type);
          });
        });
      }

      // Share Result
      function shareResult(type) {
        const result = generateShareText();

        switch (type) {
          case "whatsapp":
            window.open(`https://wa.me/?text=${encodeURIComponent(result)}`);
            break;
          case "email":
            window.location.href = `mailto:?subject=Discount Calculation&body=${encodeURIComponent(
              result
            )}`;
            break;
          case "copy":
            navigator.clipboard
              .writeText(result)
              .then(() => showNotification("Copied to clipboard!"))
              .catch(() => showError("Failed to copy"));
            break;
        }
      }

      // Generate Share Text
      function generateShareText() {
        const originalPrice = document.querySelector(".savings").textContent;
        const finalPrice = document.querySelector(".final").textContent;
        const discount = document.querySelector(".percent").textContent;

        return `Discount Calculation:\nOriginal Price: ${originalPrice}\nDiscount: ${discount}\nFinal Price: ${finalPrice}`;
      }

      // Show Notification
      function showNotification(message) {
        const notification = document.createElement("div");
        notification.className = "notification";
        notification.textContent = message;

        document.body.appendChild(notification);
        setTimeout(() => notification.remove(), 2000);
      }

      // Export Functions
      function downloadPDF() {
        // Implement PDF download functionality
      }

      function printResult() {
        window.print();
      }
    </script>
  </body>
</html>
